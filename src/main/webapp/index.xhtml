<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:p="http://primefaces.org/ui"
        template="/common/template.xhtml">

    <ui:define name="titre">Test</ui:define>
    <ui:define name="body">
        <center>
            <h:form id="loginForm">


                <h1>Seam Social Security Integration Example</h1>

                <h:panelGroup rendered="#{not identity.loggedIn}">
                    <p>Please select the service Below to connect Seam Social to your
                        account on the given service</p>

                    <ul>
                        <h:selectOneRadio value="#{oauthAuthenticator.serviceName}">
                            <f:selectItems value="#{oauthAuthenticator.listOfServices}" var="p" itemValue="#{p}"
                                           itemLabel="#{p}"/>
                        </h:selectOneRadio>

                        <h:commandButton action="#{identity.login}" value="login"/>
                    </ul>

                </h:panelGroup>

                <h:panelGroup rendered="#{identity.loggedIn}">
                    <img src="#{identity.user.userProfile.profileImageUrl}" alt="profil"/>
                    <h:outputText value="Hello, #{identity.user.userProfile.fullName}!"/>
                    <h:commandButton action="#{identity.logout}" value="Logout"/>
                </h:panelGroup>


                toto@gmail.com/toto
                <h:panelGrid columns="2" rendered="#{!login.loggedIn}">
                    <h:outputLabel for="username">Username:</h:outputLabel>
                    <p:inputText id="username" value="#{famCredentials.username}"/>
                    <h:outputLabel for="password">Password:</h:outputLabel>
                    <p:password id="password" value="#{famCredentials.password}"
                                feedback="false"/>
                </h:panelGrid>
                <p:commandButton id="login" value="Login"
                                 action="#{login.login}"
                                 rendered="#{!login.loggedIn}"
                                 update="@form"/>
                <p:commandButton id="logout" value="Logout"
                                 action="#{login.logout}"
                                 rendered="#{login.loggedIn}"
                                 update="@form "/>
                <p:commandButton id="openid"
                                 value="Login with OpenId"
                                 rendered="#{!login.loggedIn}"
                                 action="#{login.loginOpenId}"
                                 update="@form "
                                 disabled="true"/>
                <p:commandButton id="openidGoogle"
                                 value="Login with Google"
                                 rendered="#{!login.loggedIn}"
                                 action="#{login.signinOpenidGoogle}"
                                 update="@form "
                                 immediate="true"/>
                <p:commandButton id="openidYahoo"
                                 value="Login with Yahoo"
                                 rendered="#{!login.loggedIn}"
                                 action="#{login.signinOpenidYahoo}"
                                 update="@form "
                                 disabled="true"/>

                <p:separator/>

                <!--                <h:outputLabel for="openid">Open ID</h:outputLabel>
                                <p:inputText id="openid_identifier" 
                                             value="#{credentials.openid}"
                                             style="background: url(http://openid.net/login-bg.gif) no-repeat; padding-left: 18px; background-position: 0 50%;" />
                                
                                <p:separator/>-->
                <!--                    <h:panelGrid columns="2">
                                        <h:commandLink id="facebook" 
                                                       name="facebook"  
                                                       action="#{socialauth.login}" 
                                                       actionListener="#{socialauthenticator.updateId}">
                                            <h:graphicImage value="/images/facebook_icon.png"/>
                                        </h:commandLink>
                                        <h:commandLink id="twitter" 
                                                       name="twitter"  
                                                       action="#{socialauth.login}" 
                                                       actionListener="#{socialauthenticator.updateId}">
                                            <h:graphicImage value="/images/twitter_icon.png"/>
                                        </h:commandLink>
                                        <h:commandLink id="google" 
                                                       name="google"  
                                                       action="#{socialauth.login}" 
                                                       actionListener="#{socialauthenticator.updateId}">
                                            <h:graphicImage value="/images/gmail-icon.jpg"/>
                                        </h:commandLink>
                                        <h:commandLink id="yahoo" 
                                                       name="yahoo"  
                                                       action="#{socialauth.login}" 
                                                       actionListener="#{socialauthenticator.updateId}">
                                            <h:graphicImage value="/images/yahoomail_icon.jpg"/>
                                        </h:commandLink>
                
                                        <h:commandLink id="hotmail" 
                                                       name="hotmail"  
                                                       action="#{socialauth.login}" 
                                                       actionListener="#{socialauthenticator.updateId}">
                                            <h:graphicImage value="/images/hotmail.jpeg"/>
                                        </h:commandLink>
                                        <h:commandLink id="linkedin" 
                                                       name="linkedin"  
                                                       action="#{socialauth.login}" 
                                                       actionListener="#{socialauthenticator.updateId}">
                                            <h:graphicImage value="/images/linkedin.gif"/>
                                        </h:commandLink>
                                        <h:commandLink id="foursquare" 
                                                       name="foursquare"  
                                                       action="#{socialauth.login}" 
                                                       actionListener="#{socialauthenticator.updateId}">
                                            <h:graphicImage value="/images/foursquare.jpeg"/>
                                        </h:commandLink>
                                        <h:commandLink id="myspace" 
                                                       name="myspace"  
                                                       action="#{socialauth.login}" 
                                                       actionListener="#{socialauthenticator.updateId}">
                                            <h:graphicImage value="/images/myspace.jpeg"/>
                                        </h:commandLink>
                                    </h:panelGrid>-->
            </h:form>

            <!--<h:outputText id="tst" value="Init not done : #{initData.progress}%" rendered="#{!initData.initDone}"/>-->
            <!--<h:form prependId="false">-->
            <!--&lt;!&ndash;                <p:growl id="growl" autoUpdate="true" showDetail="true" />&ndash;&gt;-->
            <!--<p:commandButton-->
            <!--value="Create Data"-->
            <!--rendered="#{!initData.initDone}"-->
            <!--actionListener="#{initData.createData}"-->
            <!--onclick="pbAjax.start();poll.start();"-->
            <!--immediate="true"-->
            <!--update=" messages"-->
            <!--/>-->
            <!--&lt;!&ndash;<p:poll interval="1" update="tst" widgetVar="poll" autoStart="false"/>&ndash;&gt;-->

            <!--&lt;!&ndash;<p:progressBar widgetVar="pbAjax" ajax="true" value="#{initData.progress}"&ndash;&gt;-->
            <!--&lt;!&ndash;rendered="#{!initData.initDone}">&ndash;&gt;-->
            <!--&lt;!&ndash;<p:ajax event="complete" listener="#{initData.onComplete}" update="growl messages tst"/>&ndash;&gt;-->
            <!--&lt;!&ndash;</p:progressBar>&ndash;&gt;-->
            <!--&lt;!&ndash;                <p:outputPanel id="display"/>-->
            <!--<p:push channel="chat" onpublish="handlePublish"/>&ndash;&gt;-->
            <!--</h:form>-->

        </center>
    </ui:define>
</ui:composition>

