<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui">

    <p:tab id="tabGoal" title="Score et Buts">
        <h:form id="frmScore">
            <h:panelGrid columns="6">
                <p:outputLabel value="#{famMatchDebriefWizardController.selected.homeTeam.famTeam.libTeam}"
                               for="homeScore"/>
                <p:inputText id="homeScore" value="#{famMatchDebriefWizardController.selected.homeTeam.goalScored}"
                             size="2"/>
                <h:outputText value=" - "/>
                <p:inputText id="awayScore" value="#{famMatchDebriefWizardController.selected.awayTeam.goalScored}"
                             size="2"/>
                <p:outputLabel value="#{famMatchDebriefWizardController.selected.awayTeam.famTeam.libTeam}"
                               for="awayScore"/>

                <p:commandButton value="Save"
                                 action="#{famMatchDebriefWizardController.saveScore}"
                                 update="@(frmGoals)"
                        />
            </h:panelGrid>

        </h:form>

        <h:form id="frmGoals">
            <h:panelGrid columns="3">
                <p:outputLabel value="#{bundle.EditFamGoalLabel_famMatchPlayerStriker}" for="famMatchPlayerStriker"/>
                <p:selectOneMenu id="famMatchPlayerStriker"
                                 value="#{famMatchDebriefWizardController.famGoal.famMatchPlayerStriker}"
                                 title="#{bundle.EditFamGoalTitle_famMatchPlayerStriker}"
                                 styleClass="famCombo"
                                 converter="matchPlayerDebriefConverter"
                        >
                    <f:selectItem itemLabel="Buteur" itemValue=""/>
                    <f:selectItems value="#{famMatchDebriefWizardController.famMatchTeam.famMatchPlayerList}"
                                   var="s"
                                   itemLabel="#{s.num} #{not empty s.famPlayer ? s.famPlayer.displayName : bundle.Save}"
                                   itemValue="#{s}"/>
                    <p:ajax event="blur" update="msg_famMatchPlayerStriker"/>
                </p:selectOneMenu>
                <p:message id="msg_famMatchPlayerStriker" for="famMatchPlayerStriker"/>

                <p:outputLabel value="#{bundle.EditFamGoalLabel_famMatchPlayerAssist}" for="famMatchPlayerAssist"/>
                <p:selectOneMenu id="famMatchPlayerAssist"
                                 value="#{famMatchDebriefWizardController.famGoal.famMatchPlayerAssist}"
                                 title="#{bundle.EditFamGoalTitle_famMatchPlayerAssist}"
                                 styleClass="famCombo"
                                 converter="matchPlayerDebriefConverter"

                        >
                    <f:selectItem itemLabel="Passeur" itemValue=""/>
                    <f:selectItems value="#{famMatchDebriefWizardController.famMatchTeam.famMatchPlayerList}"
                                   var="p"
                                   itemLabel="#{p.num} #{p.famPlayer.displayName}"
                                   itemValue="#{p}"/>
                    <p:ajax event="blur" update="msg_famMatchPlayerAssist"/>
                </p:selectOneMenu>
                <p:message id="msg_famMatchPlayerAssist" for="famMatchPlayerAssist"/>

                <p:outputLabel value="#{bundle.EditFamGoalLabel_goalTime}" for="goalTime"/>
                <p:inputText id="goalTime"
                             value="#{famMatchDebriefWizardController.famGoal.goalTime}"
                             title="#{bundle.EditFamGoalTitle_goalTime}"
                        >
                    <p:ajax event="blur" update="msg_goalTime"/>
                </p:inputText>
                <p:message id="msg_goalTime" for="goalTime"/>

                <p:outputLabel value="#{bundle.EditFamGoalLabel_csc}" for="csc"/>
                <p:selectBooleanCheckbox id="csc"
                                         value="#{famMatchDebriefWizardController.famGoal.csc}"
                                         title="#{bundle.EditFamGoalTitle_csc}"
                        >
                    <p:ajax event="blur" update="msg_csc"/>
                </p:selectBooleanCheckbox>
                <p:message id="msg_csc" for="csc"/>

                <p:outputLabel value="#{bundle.EditFamGoalLabel_penalty}" for="penalty"/>
                <p:selectBooleanCheckbox id="penalty"
                                         value="#{famMatchDebriefWizardController.famGoal.penalty}"
                                         title="#{bundle.EditFamGoalTitle_penalty}"
                        >
                    <p:ajax event="blur" update="msg_penalty"/>
                </p:selectBooleanCheckbox>
                <p:message id="msg_penalty" for="penalty"/>
            </h:panelGrid>

            <p:commandButton value="Add goal"
                             action="#{famMatchDebriefWizardController.addGoal}"
                             update="@(dlGoals)"
                    />
        </h:form>

        <p:dataList id="dlGoals"
                    value="#{famMatchDebriefWizardController.lstGoal}"
                    var="g"
                    rendered="#{not empty famMatchDebriefWizardController.lstGoal}">
            <h:outputText value="#{g.goalTime} "/>
            <h:outputText value="(csc) " rendered="#{g.csc}"/>
            <h:outputText value="(sp) " rendered="#{g.penalty}"/>
            <h:outputText value="But de #{g.famMatchPlayerStriker.famPlayer.displayName} "/>
            <h:outputText value="sur une passe de #{g.famMatchPlayerAssist.famPlayer.displayName}"/>
        </p:dataList>

    </p:tab>
</ui:composition>
