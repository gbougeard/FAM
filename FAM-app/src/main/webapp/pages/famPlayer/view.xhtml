<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:p="http://primefaces.org/ui"
        >
    <f:metadata>
        <!--        <f:event type="preRenderView" listener="#{chartBean.buildChart(bean)}" />	-->
    </f:metadata>
    <h:panelGrid columns="2">
        <p:graphicImage id="photo"
                        value=" #{initParam['org.fam.jsf.PLAYERS_PHOTO_PATH']}#{initParam['org.fam.jsf.DEFAULT_PHOTO']}#{initParam['org.fam.jsf.DEFAULT_IMAGE_EXTENSION']}"
                        cache="false"
                        width="120"
                        style="border-width:4px;border-color:#6F6E6E;border-style:double"
                />

        <h:panelGrid columns="2">
            <!--                    <h:outputLabel value="#{bundle.EditFamPlayerLabel_idPlayer}" for="idPlayer" />
         <h:outputText id="idPlayer"
                      value="#{bean.idPlayer}"
                      title="#{bundle.EditFamPlayerTitle_idPlayer}"
                      >
             <p:ajax event="blur" update="msg_idPlayer"/>
         </h:outputText>
         <p:message id="msg_idPlayer" for="idPlayer"/> -->

            <h:outputLabel value="#{bundle.EditFamUserLabel_firstName}" for="firstName"/>
            <h:outputText id="firstName"
                          value="#{bean.firstName}"
                          title="#{bundle.EditFamUserTitle_firstName}"
                    />

            <h:outputLabel value="#{bundle.EditFamUserLabel_lastName}" for="lastName"/>
            <h:outputText id="lastName"
                          value="#{bean.lastName}"
                          title="#{bundle.EditFamUserTitle_lastName}"
                    />

            <h:outputLabel value="#{bundle.EditFamUserLabel_dtBirth}" for="dtBirth"/>
            <h:outputText id="dtBirth"
                          value="#{bean.dtBirth}"
                          title="#{bundle.EditFamUserTitle_dtBirth}"
                    >
                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="#{cacheBean.timeZone}"/>
            </h:outputText>

            <h:outputLabel value="#{bundle.EditFamUserLabel_age}" for="age"/>
            <h:outputText id="age"
                          value="#{bean.age} #{bundle.EditFamUserLabel_yearsOld}"
                          title="#{bundle.EditFamUserTitle_age}"
                    />

            <h:outputLabel value="Club actuel" for="famClub"/>
            <h:outputText id="famClub"
                          value="#{bean.currentPlayerSeason.famClub.libClub}"
                          title="#{bundle.EditFamTeamTitle_famClub}"
                    />

            <h:outputLabel value="Equipe par défaut" for="famTeam"/>
            <h:outputText id="famTeam"
                          value="#{bean.currentPlayerSeason.famTeam.libTeam}"
                          title="#{bundle.EditFamTeamTitle_famClub}"
                    />
        </h:panelGrid>
    </h:panelGrid>

    <p:tabView style="height:300px;">
        <p:tab title="Etat-Civil">
            <p:tabView style="height:250px;">
                <p:tab title="Contact">
                    <h:panelGrid columns="2">
                        <h:outputLabel value="#{bundle.EditFamUserLabel_email}" for="email"/>
                        <h:outputText id="email"
                                      value="#{bean.email}"
                                      title="#{bundle.EditFamUserTitle_email}"
                                />

                        <h:outputLabel value="#{bundle.EditFamUserLabel_tel}" for="tel"/>
                        <h:outputText id="tel"
                                      value="#{bean.tel}"
                                      title="#{bundle.EditFamUserTitle_tel}"
                                />
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Adresse">
                    <h:panelGrid columns="2">

                        <h:outputLabel value="#{bundle.EditFamUserLabel_address}" for="address"/>
                        <h:outputText id="address"
                                      value="#{bean.address}"
                                      title="#{bundle.EditFamUserTitle_address}"
                                />

                        <h:outputLabel value="#{bundle.EditFamUserLabel_zipcode}" for="zipcode"/>
                        <h:outputText id="zipcode"
                                      value="#{bean.zipcode}"
                                      title="#{bundle.EditFamUserTitle_zipcode}"
                                />

                        <h:outputLabel value="#{bundle.EditFamUserLabel_city}" for="city"/>
                        <h:outputText id="city"
                                      value="#{bean.city}"
                                      title="#{bundle.EditFamUserTitle_city}"
                                />

                    </h:panelGrid>
                </p:tab>

                <p:tab title="Infos Club">
                    <h:panelGrid columns="2">
                        <h:outputLabel value="#{bundle.EditFamPlayerLabel_numLicense}" for="numLicense"/>
                        <h:outputText id="numLicense"
                                      value="#{bean.numLicense}"
                                      title="#{bundle.EditFamPlayerTitle_numLicense}"
                                />

                        <h:outputLabel value="#{bundle.EditFamUserLabel_dtArrival}" for="dtArrival"/>
                        <h:outputText id="dtArrival"
                                      value="#{bean.dtArrival}"
                                      title="#{bundle.EditFamUserTitle_dtArrival}"
                                >
                            <f:convertDateTime pattern="dd/MM/yyyy" timeZone="#{cacheBean.timeZone}"/>
                        </h:outputText>
                        <h:outputLabel value="#{bundle.EditFamUserLabel_seniority}" for="seniority"/>
                        <h:outputText id="seniority"
                                      value="#{bean.seniority} #{bundle.EditFamUserLabel_years}"
                                      title="#{bundle.EditFamUserTitle_seniority}"
                                />
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Postes">
                    <h:panelGrid columns="2">
                        <p:dataList id="positions"
                                    value="#{bean.famPlayerPositionList}"
                                    var="p"
                                >
                            <h:outputText value="#{p.famPosition.libPosition}"/>
                        </p:dataList>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="En cas d'urgence">
                    <h:panelGrid columns="2">
                        <h:outputLabel value="Personne à contacter" for="iceContact"/>
                        <h:outputText id="iceContact"
                                      value="#{bean.iceContact}"
                                      title="#{bundle.EditFamUserTitle_iceContact}"
                                />

                        <h:outputLabel value="Téléphone" for="iceTel"/>
                        <h:outputText id="iceTel"
                                      value="#{bean.iceTel}"
                                      title="#{bundle.EditFamUserTitle_iceTel}"
                                />

                        <h:outputLabel value="Commentaires" for="iceComment"/>
                        <h:outputText id="iceComment"
                                      value="#{bean.iceComment}"
                                />
                    </h:panelGrid>
                </p:tab>

            </p:tabView>
        </p:tab>
        <p:tab title="Profil" rendered="#{not empty bean.idPlayer}">
            <h:graphicImage id="chart" height="200"
                            style="border-width:4px;border-color:#6F6E6E;border-style:double"
                            url="#{bean.currentProfile.profileChartUrl}"/>
        </p:tab>
        <p:tab title="Stats" rendered="#{not empty bean.idPlayer}">
            <ui:include src="stats.xhtml">
                <ui:param name="bean" value="#{bean.currentStat}"/>
            </ui:include>
        </p:tab>
        <p:tab title="Saisons" rendered="#{not empty bean.idPlayer}">
            <p:tabView var="s" value="#{bean.famPlayerSeasons}" style="height:250px;">
                <p:tab title="#{s.famSeason.libSeason}">
                    <h:panelGrid columns="2">
                        <h:graphicImage id="chart" height="200"
                                        style="border-width:4px;border-color:#6F6E6E;border-style:double"
                                        url="#{s.famPlayerProfile.profileChartUrl}"/>
                        <ui:include src="stats.xhtml">
                            <ui:param name="bean" value="#{s.famPlayerStat}"/>
                        </ui:include>
                    </h:panelGrid>
                </p:tab>
            </p:tabView>

        </p:tab>
    </p:tabView>

</ui:composition>